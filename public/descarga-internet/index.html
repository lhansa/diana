<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/fonts.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="icon" type="image/png" href="../favicon-alt.png">

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="referrer" content="no-referrer">
  
  <meta name="description" content="¿Oxidado en el trabajo? Te mando una idea diaria para que deje de ser así.">
  


  <title>
    
    
     Habrás oído que todo está en internet 
    
  </title>
  <link rel="canonical" href="../descarga-internet/">

  <link rel="stylesheet" href="../css/fonts.css" />
  <link rel="stylesheet" href="../css/style.css" />

  
  

<script>
    (function(w,d,e,u,f,l,n){w[f]=w[f]||function(){(w[f].q=w[f].q||[])
    .push(arguments);},l=d.createElement(e),l.async=1,l.src=u,
    n=d.getElementsByTagName(e)[0],n.parentNode.insertBefore(l,n);})
    (window,document,'script','https://assets.mailerlite.com/js/universal.js','ml');
    ml('account', '504889');
</script>



<script async src="https://www.googletagmanager.com/gtag/js?id=G-5WBGM7TKK6"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-5WBGM7TKK6');
</script>


<div id="cookie-notice">
<span>Este sitio utiliza cookies propias y de terceros para analizar sus servicios. Tienes<a href="../cookies" >más info aquí.</a></span>
</br>
<a id="cookie-notice-accept" class="btn btn-primary btn-sm">Acepto</a>
<a id="cookie-notice-deny" class="btn btn-primary btn-sm">Rechazo</a></div>
<script>
    function createCookie(name,value,days) {
        var expires = "";
        if (days) {
            var date = new Date();
            date.setTime(date.getTime() + (days*24*60*60*1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + value + expires + "; path=/";
    }
    function readCookie(name) {
        var nameEQ = name + "=";
        var ca = document.cookie.split(';');
        for(var i=0;i < ca.length;i++) {
            var c = ca[i];
            while (c.charAt(0)==' ') c = c.substring(1,c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
        }
        return null;
    }
    function eraseCookie(name) {
        createCookie(name,"",-1);
    }

    if(readCookie('cookie-notice-option')=='true') {
        
        document.getElementById('cookie-notice').style.display = 'none';
    } else if (readCookie('cookie-notice-option')=='false'){
        document.getElementById('cookie-notice').style.display = 'none';
    }

    document.getElementById('cookie-notice-accept').addEventListener("click",function() {
        createCookie('cookie-notice-option','true',31);
        document.getElementById('cookie-notice').style.display = 'none';
        
    });

    document.getElementById('cookie-notice-deny').addEventListener("click",function() {
        createCookie('cookie-notice-option','false',31);
        document.getElementById('cookie-notice').style.display = 'none';
        
    });

</script>


</head>

<body>
<section id=nav>
  <h1><a href="../">Programo porque es resultón</a></h1>
  <ul>
    
    <li><a href="../post/"><strong>Newsletter</strong></a></li>
    
    <li><a href="../soy-mediocre/"><strong>Mediocre</strong></a></li>
    
  </ul>
</section>

<main class="content" role="main">

  <article class="article">
    

    <h1 class="article-title">Habrás oído que todo está en internet</h1>

    

    <div class="article-content">
      <h2 id="pero-sabes-extraer-lo-que-necesitas-de-internet">¿Pero sabes extraer lo que necesitas de internet?</h2>
<p>En mi primer trabajo me metieron en un proyecto en el que no teníamos datos.</p>
<p>Ninguno.</p>
<p>Teníamos que descargarlos primero.</p>
<p>Luego ya los analizaríamos.</p>
<p>Era un proyecto de fútbol&hellip; Mira&hellip;</p>
<p>No sé si te gusta el fútbol. A mí no, quizá a ti tampoco.</p>
<p>Pero es importante que sepas que el proyecto iba de eso, de fútbol.</p>
<h3 id="porque-en-internet-hay-mazo-de-datos-sobre-eso">Porque en internet hay mazo de datos sobre eso.</h3>
<p>El primer paso era hacerse con los datos.</p>
<p>Nosotros no teníamos ni un Excel&hellip; pero no pasaba nada. <strong>Todo estaba en internet.</strong></p>
<p>Mi jefe quería hacer un estudio que abarcara varios años. 10, 15 temporadas&hellip;</p>
<p>Y varias ligas. De unos cinco países. España, Francia, Reino Unido, Alemania, Italia&hellip;</p>
<p>Un sitio web tenía los datos que queríamos.</p>
<p>Pero como te habrás dado cuenta, eran muchos datos.</p>
<p>A ver, nada de big data. No, no&hellip;</p>
<h4 id="eran-muchos-datos-para-descargarlos-a-mano">Eran muchos datos para descargarlos a mano.</h4>
<p>Una vez descargados, cabían en un Excel.</p>
<p><strong>Pero teníamos que hacernos con ellos primero.</strong></p>
<p>Un compañero se encargó de ello.</p>
<p>Era 2015.</p>
<p>Y fue la primera vez que me hablaron de <em>web scraping.</em></p>


</br>

<p>Es una técnica de descarga de datos independiente del lenguaje que uses.</p>
<p>Él me lo enseñó en R.</p>
<h2 id="pero-sea-cual-sea-el-lenguaje-que-uses-puedes-aplicar-web-scraping">Pero sea cual sea el lenguaje que uses, puedes aplicar web scraping.</h2>
<p>Mi compañero hizo un código en menos de 1 hora con el que descargó todos los datos.</p>
<p>De todas las temporadas. De todos los países.</p>
<p>Y ya estaba. Lo demás era analizar.</p>
<h2 id="qué-necesitas-para-hacer-web-scraping">¿Qué necesitas para hacer web scraping?</h2>
<h3 id="primero-unos-datos-que-quieras-descargar">Primero, unos datos que quieras descargar.</h3>
<p>A ver&hellip;</p>
<p>No se trata de que te pongas a descargar páginas web como si no hubiera mañana.</p>
<p>Necesitas una estructura.</p>
<h3 id="tienes-que-saber-para-qué-quieres-esos-datos-porque-así-en-el-proceso-de-descarga-das-el-formato-que-te-venga-mejor">Tienes que saber para qué quieres esos datos. Porque así en el proceso de descarga das el formato que te venga mejor.</h3>
<p>Una vez tienes los datos claros, plantéate en qué lenguaje lo vas a hacer.</p>
<p>Si estás leyendo esto, es <strong>muy posible que R o Python sean las elecciones adecuadas.</strong></p>
<p>Y ahora toca elegir la librería.</p>


</br>

<p>Una vez leí en Twitter o similar:</p>
<blockquote>
<p>No quieres hacer web scraping. ¡Busca la API escondida!</p>
</blockquote>
<p>Sí, <code>requests</code> y <code>httr</code> sacan de muchos apuros.</p>
<p>Pero no de todos.</p>
<p>A veces necesitas algo más.</p>
<h4 id="necesitas-interactuar-con-la-página-web">Necesitas interactuar con la página web.</h4>
<p>Ahí, la elección de las librerías es clave.</p>
<p>Una búsqueda rápida en Google lo único que te dará es un batiburrillo de opciones.</p>
<p><strong>Pero sin una idea concreta de por dónde tirar.</strong></p>
<p><code>rvest</code>, <code>scrapy</code>, <code>bs4</code>, <code>selenium</code>&hellip;</p>
<p>Me he visto ahí.</p>
<p>Y cuesta mucho salir de las dudas.</p>
<p>Pero se sale.</p>
<p>El método que yo seguí, y que no te recomiendo, es probarlo todo.</p>
<p>Muchas veces. Distintos enfoques.</p>
<p>Hasta que consigas lo que quieres.</p>
<h3 id="el-inconveniente-es-que-pierdes-mucho-tiempo">El inconveniente es que pierdes mucho tiempo.</h3>
<p>Así que he preparado algo para que puedas ir directo a lo que necesitas.</p>
<h2 id="he-preparado-unos-casos-de-uso-sobre-web-scraping">He preparado unos casos de uso sobre web scraping.</h2>
<p><strong>No es una formación.</strong></p>
<p>Lo que tengo para ti es un documento, con códigos, con tres ejemplos de uso de <em>web scraping</em> para tres situaciones en las que me resultó útil.</p>
<p>Más útil que copiar y pegar datos de páginas web.</p>
<h3 id="qué-tiene-el-documento">¿Qué tiene el documento?</h3>
<p><strong>26 páginas</strong> con comentarios sobre los códigos que uso. Explico por qué uso lo que uso.</p>
<p>Los códigos también están comentados.</p>
<p>Pero encontrarás matices más detallados en el documento.</p>
<p>Digo que no es una formación porque</p>
<ul>
<li>no hago una introducción de los elementos que uso,</li>
<li>ni los voy añadiendo poco a poco,</li>
<li>ni hay un hilo de menos dificultad a más dificultad.</li>
</ul>
<p>Ahora bien, <strong>incluye soporte.</strong></p>
<p>O sea, que si compras mis casos de uso, puedes escribirme por correo electrónico para preguntarme sobre ellos.</p>
<ul>
<li>Me puedes preguntar sobre el código.</li>
<li>Me puedes preguntar sobre cambios en el código para poder variar el caso de uso.</li>
<li>Me puedes preguntar sobre por qué una librería o función y no otra.</li>
</ul>
<p>Si necesitas ayuda para aplicar el caso de uso a otro proyecto, te ayudo, pero es un servicio aparte.</p>
<h4 id="son-casos-de-uso-de-web-scraping-que-te-pueden-resultar-útiles-si-los-quieres-usar-como-referencia">Son casos de uso de web scraping que te pueden resultar útiles si los quieres usar como referencia.</h4>
<p>O como plantillas para hacer proyectos tuyos.</p>
<h2 id="te-cuento-los-casos-de-uso">Te cuento los casos de uso</h2>
<h3 id="1-productos-de-amazon">1. Productos de Amazon</h3>
<p>El primer código sirve para realizar una búsqueda en Amazon de algún artículo: un teclado de ordenador, una crema, un <em>gadget</em> para el iPhone, una prenda de ropa, un juguetito&hellip; lo que quieras.</p>
<p>Y te descarga en una tabla el precio, el link, la valoración y el número de críticas que tiene.</p>
<p>Me gusta tener a mano el número de críticas de un producto porque así me hago una idea de si lo ha comprado mucha gente. Si dudo entre dos productos, tiendo a comprar el más comprado.</p>
<h3 id="2-artículos-de-una-revista">2. Artículos de una revista</h3>
<p>El segundo caso surgió por razones personales. Hace años colaboré con una revista y quería descargar los artículos que publiqué.</p>
<p>El formato final no es muy cómodo, cierto, pero no era mi prioridad.</p>
<p>Solo quería los textos, por si cerraban la revista.</p>
<h3 id="3-titulaciones-de-una-universidad">3. Titulaciones de una universidad</h3>
<p>El último caso sirve para descargar los pdf con los programas de las titulaciones de la Universidad Complutense de Madrid.</p>
<p>El código navega por todas las titulaciones de la UCM y, si hay un pdf con información sobre la titulación, lo descarga en una carpeta.</p>
<p>Una cosa que falta es hacer un filtro de titulaciones. Por ejemplo, sería fácil añadir la condición de que descargue el pdf solo si la titulación tiene que ver con datos y estadística.</p>
<p><strong>Como el producto tiene soporte, puedes preguntarme sobre el planteamiento.</strong></p>
<p>Por cierto, por si te suena, en este último uso selenium. En los otros dos, scrapy y bs4.</p>


</br>

<h3 id="está-todo-en-python">Está todo en Python.</h3>
<p>Pero el código te dará ideas suficientes si lo quieres llevar a R.</p>
<p>La sintaxis de R y Python son muy distintas.</p>
<p>Pero lo propio de web scraping, su interacción son los elementos web, es común.</p>
<hr>
<p>Entonces, todo junto:</p>
<ul>
<li><strong>3 casos de uso</strong> de web scraping. Con Python.</li>
<li>Muy <strong>comentados y documentados</strong>, con explicaciones de por qué uso el código que uso.</li>
<li>Con soporte mío, <strong>para que puedas hacer variaciones.</strong></li>
</ul>
<h2 id="descarga-internet-con-web-scraping-3-casos-de-uso">Descarga internet con web scraping: 3 casos de uso</h2>
<h3 id="pvp-26">PVP: 26€</h3>
<p><a href="https://buy.stripe.com/28o5mUbNA1JhfNSfZ4">Pago seguro con tarjeta.</a></p>
<hr>
<h2 id="preguntas-frecuentes">Preguntas frecuentes</h2>
<h3 id="qué-formato-tiene-el-curso">¿Qué formato tiene el curso?</h3>
<p>No es un curso. Son casos de uso.</p>
<h3 id="vale-vale-qué-formato-tienen">Vale, vale. ¿Qué formato tienen?</h3>
<p>Es <strong>1 fichero pdf de 26 páginas</strong> con las explicaciones. Y <strong>3 scripts de Python</strong> con comentarios. Tienes más de 200 líneas de código.</p>
<h3 id="yo-no-sé-python-podré-aprovecharlo">Yo no sé Python. ¿Podré aprovecharlo?</h3>
<p>Si no sabes nada de Python, no. Tengo una <a href="https://leonardohansa.com/muerde-a-la-serpiente/">formación sobre iniciación a Python para datos.</a></p>
<p>Pero esto es otra cosa. Necesitas saber abrir un script, ejecutarlo, instalar librerías&hellip;</p>
<p>Aprende primero eso. Y luego vuelves aquí.</p>
<h3 id="ya-intenté-web-scraping-una-vez-y-no-me-aclaraba">Ya intenté web scraping una vez y no me aclaraba</h3>
<p>Las personas que más aprovechan este tipo de productos son precisamente quienes ya se han peleado con <em>web scraping</em> pero necesitan un apoyo más.</p>
<p>Los casos de uso te servirán como ejemplos completos, con varios elementos de web scraping, que luego podrás llevarte a cosas tuyas.</p>
<p>En un tutorial o en una formación muy breve te enseñan algunos de las herramientas de web scraping pero no te enseñan a unirlas. A hacer que trabajen todas juntas.</p>
<p>En estos casos de uso verás justo eso: tres ejemplos completos, para que veas cómo puedes unir todas las piezas.</p>
<h3 id="es-muy-barato-por-qué">Es muy barato. ¿Por qué?</h3>
<p>Porque no es una formación.</p>
<p>Son casos que he hecho y creo que te pueden ser útiles. Están bien documentados pero no hay un hilo conductor en el que intente darte todo mascadito.</p>
<p>Tendrás el material todo junto. Y si quieres ir de poco tendrás que toquetear tú el código para ver qué es la estructura general, qué elementos puedes cambiar libremente, qué elementos son imprescindibles.</p>
<p>Tampoco cubro todas las casuísticas.</p>
<h3 id="es-solo-un-caso-de-uso-entonces-es-muy-caro">¿Es solo un caso de uso? Entonces es muy caro.</h3>
<p>Pues no lo compres.</p>
<p>Hay muchos tutoriales.</p>
<p>Yo invertí tiempo en aprender web scraping.</p>
<p>Te ofrezco que inviertas dinero.</p>
<p>Pero si crees que es muy caro, invierte tiempo.</p>
<h3 id="qué-necesito-tener-instalado-para-que-funcione">Qué necesito tener instalado para que funcione.</h3>
<p>Python. Las librerías que necesitas son bs4, scrapy y selenium. Y pandas y requests, pero eso seguro que lo tienes.</p>
<p>Y Firefox. Uso Firefox para el caso 3.</p>
<h4 id="yo-uso-chrome-no-vale">Yo uso Chrome. ¿No vale?</h4>
<p>El código está pensado para usar Firefox. La tarea se puede hacer con (casi) cualquier navegador, pero el código va a usar Firefox para navegar por la web y descargar los ficheros pdf.</p>
<p>Habrá que cambiar algunas cosas del código para que funcione con Chrome. Con el soporte que tienes incluido, te puedo mandar algo de documentación para qué sepas por dónde van los tiros.</p>
<p>Pero el soporte no incluye reescribir el código para Chrome.</p>
<h2 id="descarga-internet-con-web-scraping-3-casos-de-uso-1">Descarga internet con web scraping: 3 casos de uso</h2>
<h3 id="pvp-26-1">PVP: 26€</h3>
<p><a href="https://buy.stripe.com/28o5mUbNA1JhfNSfZ4">Pago seguro con tarjeta.</a></p>
<hr>
<p>Por cierto, por si aún no te has suscrito, en mi newsletter contaré más detalles sobre el curso (y más cosas sobre programación que te interesarán si te estás planteando meterte en la formación):</p>

    </div>
  </article>

  <section id="comments">
<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
      
      
      if (window.location.hostname == "localhost")
                return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = '';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

  <section id=subscribe_final>
  
  </br>
  </br>
  </br>
  
<em>Si te ha gustado esto, te gustarán mis correos. Para recibirlos te suscribes aquí:</em>
  
<div class="ml-embedded" data-form="HwWIEu"></div>




    



</section>


</main>

  
  

  
  
  <div>
  <p style="text-align:right;font-size:10px;">
  <a href="https://leonardohansa.com/legal">Legal</a>
  <a href="https://leonardohansa.com/condiciones">Contratación</a>
  <a href="https://leonardohansa.com/cookies">Política de cookies</a>
  </p>
  
  </div>
  
  
</body>
  
<footer style="position:absolute;bottom:0;width:100%;">


</footer>

</html>

